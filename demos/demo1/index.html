<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=9,chrome=1">
    <title>Pxxl.js demopage</title>
    <link rel="stylesheet" href="demo.css">
  </head>
  <body>
  <canvas width="900"></canvas>

  <div class="footer">
   see the <a href="https://github.com/remcoder/Pxxl.js">Pxxl.js Github repo</a> for tha codez
  </div>


  <pre class="code">

  </pre>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>

    <script src="pxxl-0.3.min.js" type="text/javascript"></script>

    <script type="text/javascript" id="code">
var canvas = document.querySelector('canvas'),
  ctx = canvas.getContext('2d');

function rgba(r,g,b,a) { return "rgba("+ ~~r +","+ ~~g +","+ ~~b +"," + a +")"; }

function randomColor() { return rgba(255*Math.random(),
  255*Math.random(), 255*Math.random(),1) }

pxxl("../../fonts/c64d.bdf", "random colors...", function (pixels) {
  var scale = 4;
  ctx.clearRect(0,0,canvas.width,canvas.height);
  for (var p=0 ; p<pixels.length ; p++) {
    var pixel = pixels[p];
    ctx.fillStyle = randomColor();

    ctx.fillRect(pixel.x*scale, pixel.y*scale, scale, scale)
  }
});
    </script>
    <script>
      document.querySelector("pre").innerText = document.getElementById("code").innerText;
    </script>
  </body>
</html>
